var gj={};gj.widget=function(){var a=this;a.xhr=null,a.generateGUID=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},a.mouseX=function(a){if(a){if(a.pageX)return a.pageX;if(a.clientX)return a.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);if(a.touches&&a.touches.length)return a.touches[0].pageX;if(a.changedTouches&&a.changedTouches.length)return a.changedTouches[0].pageX;if(a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches[0].pageX;if(a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.touches[0].pageX}return null},a.mouseY=function(a){if(a){if(a.pageY)return a.pageY;if(a.clientY)return a.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);if(a.touches&&a.touches.length)return a.touches[0].pageY;if(a.changedTouches&&a.changedTouches.length)return a.changedTouches[0].pageY;if(a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches[0].pageY;if(a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.touches[0].pageY}return null}},gj.widget.prototype.init=function(a,b){var c,d,e;this.attr("data-type",b),d=$.extend(!0,{},this.getHTMLConfig()||{}),$.extend(!0,d,a||{}),e=this.getConfig(d,b),this.attr("data-guid",e.guid),this.data(e);for(c in e)gj[b].events.hasOwnProperty(c)&&(this.on(c,e[c]),delete e[c]);for(plugin in gj[b].plugins)gj[b].plugins.hasOwnProperty(plugin)&&gj[b].plugins[plugin].configure(this,e,d);return this},gj.widget.prototype.getConfig=function(a,b){var c,d,e,f;c=$.extend(!0,{},gj[b].config.base),d=a.hasOwnProperty("uiLibrary")?a.uiLibrary:c.uiLibrary,gj[b].config[d]&&$.extend(!0,c,gj[b].config[d]),e=a.hasOwnProperty("iconsLibrary")?a.iconsLibrary:c.iconsLibrary,gj[b].config[e]&&$.extend(!0,c,gj[b].config[e]);for(f in gj[b].plugins)gj[b].plugins.hasOwnProperty(f)&&($.extend(!0,c,gj[b].plugins[f].config.base),gj[b].plugins[f].config[d]&&$.extend(!0,c,gj[b].plugins[f].config[d]),gj[b].plugins[f].config[e]&&$.extend(!0,c,gj[b].plugins[f].config[e]));return $.extend(!0,c,a),c.guid||(c.guid=this.generateGUID()),c},gj.widget.prototype.getHTMLConfig=function(){var a=this.data(),b=this[0].attributes;return b.width&&(a.width=b.width.value),b.height&&(a.height=b.height.value),b.value&&(a.value=b.value.value),b.align&&(a.align=b.align.value),a&&a.source&&(a.dataSource=a.source,delete a.source),a},gj.widget.prototype.createDoneHandler=function(){var a=this;return function(b){"string"==typeof b&&JSON&&(b=JSON.parse(b)),gj[a.data("type")].methods.render(a,b)}},gj.widget.prototype.createErrorHandler=function(){return function(a){a&&a.statusText&&"abort"!==a.statusText&&alert(a.statusText)}},gj.widget.prototype.reload=function(a){var b,c,d=this.data(),e=this.data("type");return void 0===d.dataSource&&gj[e].methods.useHtmlDataSource(this,d),$.extend(d.params,a),$.isArray(d.dataSource)?(c=gj[e].methods.filter(this),gj[e].methods.render(this,c)):"string"==typeof d.dataSource?(b={url:d.dataSource,data:d.params},this.xhr&&this.xhr.abort(),this.xhr=$.ajax(b).done(this.createDoneHandler()).fail(this.createErrorHandler())):"object"==typeof d.dataSource&&(d.dataSource.data||(d.dataSource.data={}),$.extend(d.dataSource.data,d.params),b=$.extend(!0,{},d.dataSource),"json"===b.dataType&&"object"==typeof b.data&&(b.data=JSON.stringify(b.data)),b.success||(b.success=this.createDoneHandler()),b.error||(b.error=this.createErrorHandler()),this.xhr&&this.xhr.abort(),this.xhr=$.ajax(b)),this},gj.documentManager={events:{},subscribeForEvent:function(a,b,c){if(gj.documentManager.events[a]&&0!==gj.documentManager.events[a].length){if(gj.documentManager.events[a][b])throw"Event "+a+' for widget with guid="'+b+'" is already attached.';gj.documentManager.events[a].push({widgetId:b,callback:c})}else gj.documentManager.events[a]=[{widgetId:b,callback:c}],$(document).on(a,gj.documentManager.executeCallbacks)},executeCallbacks:function(a){var b=gj.documentManager.events[a.type];if(b)for(var c=0;c<b.length;c++)b[c].callback(a)},unsubscribeForEvent:function(a,b){var c=!1,d=gj.documentManager.events[a];if(d)for(var e=0;e<d.length;e++)d[e].widgetId===b&&(d.splice(e,1),c=!0,0===d.length&&($(document).off(a),delete gj.documentManager.events[a]));if(!c)throw'The "'+a+'" for widget with guid="'+b+"\" can't be removed."}},gj.core={messages:{"en-us":{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthShortNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},"fr-fr":{monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Cécembre"],monthShortNames:["Janv.","Févr.","Mars","Avr.","Mai","juin","juil.","Août","Sept.","Oct.","Nov.","Déc."]}},parseDate:function(a,b,c){var d,e,f,g,h=0,i=0,j=0,k=0,l=0;if(a&&"string"==typeof a){if(/^\d+$/.test(a))g=new Date(a);else if(a.indexOf("/Date(")>-1)g=new Date(parseInt(a.substr(6),10));else if(a){for(e=a.split(/[\s,-\.\/\/\:]+/),f=b.split(/[\s,-\.\/\/\:]+/),d=0;d<f.length;d++)["d","dd"].indexOf(f[d])>-1?j=parseInt(e[d],10):["m","mm"].indexOf(f[d])>-1?i=parseInt(e[d],10)-1:"mmm"===f[d]?i=gj.core.messages[c||"en-us"].monthShortNames.indexOf(e[d]):"mmmm"===f[d]?i=gj.core.messages[c||"en-us"].monthNames.indexOf(e[d]):["yy","yyyy"].indexOf(f[d])>-1?(h=parseInt(e[d],10),"yy"===f[d]&&(h+=2e3)):["h","hh","H","HH"].indexOf(f[d])>-1?k=parseInt(e[d],10):["M","MM"].indexOf(f[d])>-1&&(l=parseInt(e[d],10));g=new Date(h,i,j,k,l)}}else"number"==typeof a?g=new Date(a):a instanceof Date&&(g=a);return g},formatDate:function(a,b,c){var d,e,f="",g=b.split(/[\s,-\.\/\/\:]+/),h=b.replace(/[shtdmyHTDMY]/g,"");for(i=0;i<g.length;i++)switch(d=h[i]||"",g[i]){case"s":f+=a.getSeconds()+d;break;case"ss":f+=gj.core.pad(a.getSeconds())+d;break;case"M":f+=a.getMinutes()+d;break;case"MM":f+=gj.core.pad(a.getMinutes())+d;break;case"H":f+=a.getHours()+d;break;case"HH":f+=gj.core.pad(a.getHours())+d;break;case"h":e=a.getHours()>12?a.getHours()%12:a.getHours(),f+=e+d;break;case"hh":e=a.getHours()>12?a.getHours()%12:a.getHours(),f+=gj.core.pad(e)+d;break;case"tt":f+=(a.getHours()>=12?"pm":"am")+d;break;case"TT":f+=(a.getHours()>=12?"PM":"AM")+d;break;case"d":f+=a.getDate()+d;break;case"dd":f+=gj.core.pad(a.getDate())+d;break;case"m":f+=a.getMonth()+1+d;break;case"mm":f+=gj.core.pad(a.getMonth()+1)+d;break;case"mmm":f+=gj.core.messages[c||"en-us"].monthShortNames[a.getMonth()]+d;break;case"mmmm":f+=gj.core.messages[c||"en-us"].monthNames[a.getMonth()]+d;break;case"yy":f+=a.getFullYear().toString().substr(2)+d;break;case"yyyy":f+=a.getFullYear()+d}return f},pad:function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a},center:function(a){var b=$(window).width()/2-a.width()/2,c=$(window).height()/2-a.height()/2;a.css("position","absolute"),a.css("left",b>0?b:0),a.css("top",c>0?c:0)},isIE:function(){return!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g)}},gj.datepicker={plugins:{},messages:{"en-us":{weekDays:["S","M","T","W","T","F","S"]},"fr-fr":{weekDays:["LU","MA","MR","JE","VE","SA","DI"]}}},gj.datepicker.config={base:{showOtherMonths:!1,selectOtherMonths:!0,width:void 0,minDate:void 0,maxDate:void 0,format:"mm/dd/yyyy",uiLibrary:"materialdesign",iconsLibrary:"materialicons",value:void 0,weekStartDay:0,disableDates:void 0,disableDaysOfWeek:void 0,calendarWeeks:!1,keyboardNavigation:!0,locale:"en-us",icons:{rightIcon:'<i class="gj-icon event" />',previousMonth:'<i class="gj-icon chevron-left" />',nextMonth:'<i class="gj-icon chevron-right" />'},fontSize:void 0,style:{wrapper:"gj-datepicker gj-datepicker-md gj-unselectable",input:"gj-textbox-md",calendar:"gj-calendar gj-calendar-md"}},bootstrap:{style:{wrapper:"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group",input:"form-control",calendar:"gj-calendar gj-calendar-bootstrap"},iconsLibrary:"glyphicons",showOtherMonths:!0},bootstrap4:{style:{wrapper:"gj-datepicker gj-datepicker-bootstrap gj-unselectable",input:"form-control",calendar:"gj-calendar gj-calendar-bootstrap"},showOtherMonths:!0},fontawesome:{icons:{rightIcon:'<i class="icon icon-chevron-right" aria-hidden="true"></i>',previousMonth:'<i class="icon icon-arrow-right" aria-hidden="true"></i>',nextMonth:'<i class="icon icon-arrow-right" aria-hidden="true"></i>'}},glyphicons:{icons:{rightIcon:'<span class="glyphicon glyphicon-calendar"></span>',previousMonth:'<span class="glyphicon glyphicon-chevron-left"></span>',nextMonth:'<span class="glyphicon glyphicon-chevron-right"></span>'}}},gj.datepicker.methods={init:function(a){return gj.widget.prototype.init.call(this,a,"datepicker"),this.attr("data-datepicker","true"),gj.datepicker.methods.initialize(this),this},initialize:function(a){var b,c,d=a.data(),e=a.parent('div[role="wrapper"]');c="bootstrap"===d.uiLibrary?$('<span class="input-group-addon">'+d.icons.rightIcon+"</span>"):"bootstrap4"===d.uiLibrary?$('<span class="input-group-append"><span class="input-group-text">'+d.icons.rightIcon+"</span></span>"):$(d.icons.rightIcon),c.attr("role","right-icon"),0===e.length?(e=$('<div role="wrapper" />').addClass(d.style.wrapper),a.wrap(e)):e.addClass(d.style.wrapper),e=a.parent('div[role="wrapper"]'),d.width&&e.css("width",d.width),a.val(d.value).addClass(d.style.input).attr("role","input"),d.fontSize&&a.css("font-size",d.fontSize),c.on("click",function(b){$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]').is(":visible")?gj.datepicker.methods.hide(a):gj.datepicker.methods.show(a)}),a.on("blur",function(){a.timeout=setTimeout(function(){gj.datepicker.methods.hide(a)},500)}),e.append(c),b=gj.datepicker.methods.createCalendar(a),d.keyboardNavigation&&a.on("keydown",gj.datepicker.methods.createKeyDownHandler(a,b))},createCalendar:function(a){var b,c=a.data(),d=$('<div role="calendar" />').addClass(c.style.calendar).attr("guid",a.attr("data-guid")),e=$("<table/>"),f=$("<thead/>");for(c.fontSize&&d.css("font-size",c.fontSize),b=gj.core.parseDate(c.value,c.format,c.locale),!b||isNaN(b.getTime())?b=new Date:a.attr("day",b.getFullYear()+"-"+b.getMonth()+"-"+b.getDate()),a.attr("month",b.getMonth()),a.attr("year",b.getFullYear()),$row=$('<tr role="month-manager" />'),$row.append($("<th><div>"+c.icons.previousMonth+"</div></th>").on("click",gj.datepicker.methods.prevMonth(a))),$row.append('<th colspan="'+(c.calendarWeeks?6:5)+'"><div role="month"></div></th>'),$row.append($("<th><div>"+c.icons.nextMonth+"</div></th>").on("click",gj.datepicker.methods.nextMonth(a))),f.append($row),$row=$('<tr role="week-days" />'),c.calendarWeeks&&$row.append("<th><div>&nbsp;</div></th>"),i=c.weekStartDay;i<gj.datepicker.messages[c.locale].weekDays.length;i++)$row.append("<th><div>"+gj.datepicker.messages[c.locale].weekDays[i]+"</div></th>");for(i=0;i<c.weekStartDay;i++)$row.append("<th><div>"+gj.datepicker.messages[c.locale].weekDays[i]+"</div></th>");return f.append($row),e.append(f),e.append("<tbody/>"),d.append(e),d.hide(),$("body").append(d),d},renderCalendar:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=a.data(),r=$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]'),s=r.children("table"),t=s.children("tbody");for(clearTimeout(a.timeout),a.attr("day")?(c=a.attr("day").split("-"),c=new Date(c[0],c[1],c[2])):c=new Date(void 0),e=parseInt(a.attr("month"),10),f=parseInt(a.attr("year"),10),s.find('thead [role="month"]').text(gj.core.messages[q.locale].monthNames[e]+" "+f),g=new Array(31,28,31,30,31,30,31,31,30,31,30,31),f%4==0&&1900!=f&&(g[1]=29),h=g[e],i=(new Date(f,e,1).getDay()+7-q.weekStartDay)%7,t.empty(),b=0,$row=$("<tr />"),l=gj.datepicker.methods.getPrevMonth(e,f),j=1;j<=i;j++)d=g[l.month]-i+j,p=new Date(l.year,l.month,d),q.calendarWeeks&&1===j&&$row.append("<td><div>"+gj.datepicker.methods.getWeekNumber(p)+"</div></td>"),n=l.year===c.getFullYear()&&l.month===c.getMonth()&&d===c.getDate()?$('<td class="selected" />'):$('<td class="other-month" />'),q.showOtherMonths&&(o=$("<div>"+d+"</div>"),n.append(o),q.selectOtherMonths&&gj.datepicker.methods.isSelectable(q,p)?(n.addClass("gj-cursor-pointer"),o.on("click",gj.datepicker.methods.select(a,r,p))):n.addClass("disabled")),$row.append(n),b++;for(j>1&&t.append($row),k=new Date,j=1;j<=h;j++)p=new Date(f,e,j),0==b&&($row=$("<tr>"),q.calendarWeeks&&$row.append("<td><div>"+gj.datepicker.methods.getWeekNumber(p)+"</div></td>")),n=$('<td day="'+j+'" />'),f===c.getFullYear()&&e===c.getMonth()&&j===c.getDate()?n.addClass("selected"):f===k.getFullYear()&&e===k.getMonth()&&j===k.getDate()?n.addClass("today"):n.addClass("current-month"),o=$("<div>"+j+"</div>"),gj.datepicker.methods.isSelectable(q,p)?(n.addClass("gj-cursor-pointer"),o.on("click",gj.datepicker.methods.select(a,r,p))):n.addClass("disabled"),n.append(o),$row.append(n),7==++b&&(t.append($row),b=0);for(m=gj.datepicker.methods.getNextMonth(e,f),j=1;0!=b;j++)p=new Date(m.year,m.month,j),n=m.year===c.getFullYear()&&m.month===c.getMonth()&&j===c.getDate()?$('<td class="selected" />'):$('<td class="other-month" />'),q.showOtherMonths&&(o=$("<div>"+j+"</div>"),n.append(o),q.selectOtherMonths&&gj.datepicker.methods.isSelectable(q,p)?(n.addClass("gj-cursor-pointer"),o.on("click",gj.datepicker.methods.select(a,r,p))):n.addClass("disabled")),$row.append(n),7==++b&&(t.append($row),b=0)},getWeekNumber:function(a){var b=new Date(a.valueOf());b.setDate(b.getDate()+6),b=new Date(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate())),b.setUTCDate(b.getUTCDate()+4-(b.getUTCDay()||7));var c=new Date(Date.UTC(b.getUTCFullYear(),0,1));return Math.ceil(((b-c)/864e5+1)/7)},getMinDate:function(a){var b;return a.minDate&&("string"==typeof a.minDate?b=gj.core.parseDate(a.minDate,a.format,a.locale):"function"==typeof a.minDate?"string"==typeof(b=a.minDate())&&(b=gj.core.parseDate(b,a.format,a.locale)):"function"==typeof a.minDate.getMonth&&(b=a.minDate)),b},getMaxDate:function(a){var b;return a.maxDate&&("string"==typeof a.maxDate?b=gj.core.parseDate(a.maxDate,a.format,a.locale):"function"==typeof a.maxDate?"string"==typeof(b=a.maxDate())&&(b=gj.core.parseDate(b,a.format,a.locale)):"function"==typeof a.maxDate.getMonth&&(b=a.maxDate)),b},isSelectable:function(a,b){var c,d=!0,e=gj.datepicker.methods.getMinDate(a),f=gj.datepicker.methods.getMaxDate(a);if(e&&b<e?d=!1:f&&b>f&&(d=!1),d){if(a.disableDates)if($.isArray(a.disableDates))for(c=0;c<a.disableDates.length;c++)a.disableDates[c]instanceof Date&&a.disableDates[c].getTime()===b.getTime()?d=!1:"string"==typeof a.disableDates[c]&&gj.core.parseDate(a.disableDates[c],a.format,a.locale).getTime()===b.getTime()&&(d=!1);else a.disableDates instanceof Function&&(d=a.disableDates(b));$.isArray(a.disableDaysOfWeek)&&a.disableDaysOfWeek.indexOf(b.getDay())>-1&&(d=!1)}return d},getPrevMonth:function(a,b){return date=new Date(b,a,1),date.setMonth(date.getMonth()-1),{month:date.getMonth(),year:date.getFullYear()}},getNextMonth:function(a,b){return date=new Date(b,a,1),date.setMonth(date.getMonth()+1),{month:date.getMonth(),year:date.getFullYear()}},prevMonth:function(a){return function(){var b,c=parseInt(a.attr("month"),10),d=parseInt(a.attr("year"),10);b=gj.datepicker.methods.getPrevMonth(c,d),a.attr("month",b.month),a.attr("year",b.year),gj.datepicker.methods.renderCalendar(a),a.focus()}},nextMonth:function(a){return function(){var b,c=parseInt(a.attr("month"),10),d=parseInt(a.attr("year"),10);b=gj.datepicker.methods.getNextMonth(c,d),a.attr("month",b.month),a.attr("year",b.year),gj.datepicker.methods.renderCalendar(a),a.focus()}},select:function(a,b,c){return function(b){var d,e=c.getMonth(),f=c.getFullYear(),g=a.data();return d=gj.core.formatDate(c,g.format,g.locale),a.val(d),gj.datepicker.events.change(a),a.attr("day",f+"-"+e+"-"+c.getDate()),a.attr("month",e),a.attr("year",f),gj.datepicker.methods.hide(a),a}},show:function(a){var b=(a.data(),a.offset()),c=$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]');gj.datepicker.methods.renderCalendar(a),c.css("left",b.left).css("top",b.top+a.outerHeight(!0)+3),c.show(),a.focus(),gj.datepicker.events.show(a)},hide:function(a){$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]').hide(),gj.datepicker.events.hide(a)},createKeyDownHandler:function(a,b){return function(c){var d,e,f,g,h,i=gj.datepicker.methods.getActiveCell(b);c=c||window.event,"38"==c.keyCode?(g=i.index(),h=i.closest("tr").prev("tr").find("td:eq("+g+")"),h.is("[day]")||(gj.datepicker.methods.prevMonth(a)(),h=b.find("tbody tr").last().find("td:eq("+g+")")),h.is("[day]")&&(h.addClass("focused"),i.removeClass("focused"))):"40"==c.keyCode?(g=i.index(),h=i.closest("tr").next("tr").find("td:eq("+g+")"),h.is("[day]")||(gj.datepicker.methods.nextMonth(a)(),h=b.find("tbody tr").first().find("td:eq("+g+")"),h.is("[day]")||(h=b.find("tbody tr:eq(1)").find("td:eq("+g+")"))),h.is("[day]")&&(h.addClass("focused"),i.removeClass("focused"))):"37"==c.keyCode?(h=i.prev("td[day]:not(.disabled)"),0===h.length&&(h=i.closest("tr").prev("tr").find("td[day]").last()),0===h.length&&(gj.datepicker.methods.prevMonth(a)(),h=b.find("tbody tr").last().find("td[day]").last()),h.length>0&&(h.addClass("focused"),i.removeClass("focused"))):"39"==c.keyCode||"9"==c.keyCode?(h=i.next("[day]:not(.disabled)"),0===h.length&&(h=i.closest("tr").next("tr").find("td[day]").first()),0===h.length&&(gj.datepicker.methods.nextMonth(a)(),h=b.find("tbody tr").first().find("td[day]").first()),h.length>0&&(h.addClass("focused"),i.removeClass("focused"))):"13"==c.keyCode?(f=parseInt(i.attr("day"),10),d=parseInt(a.attr("month"),10),e=parseInt(a.attr("year"),10),gj.datepicker.methods.select(a,b,new Date(e,d,f))()):"27"==c.keyCode&&a.hide()}},getActiveCell:function(a){var b=a.find("td[day].focused");return 0===b.length&&(b=a.find("td[day].selected"),0===b.length&&(b=a.find("td[day].today"),0===b.length&&(b=a.find("td[day]:not(.disabled)").first()))),b},value:function(a,b){var c,d,e=a.data();return void 0===b?a.val():(d=gj.core.parseDate(b,e.format,e.locale),d?(c=$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]'),gj.datepicker.methods.select(a,c,d)()):a.val(""),a)},destroy:function(a){var b=a.data(),c=a.parent();return b&&(a.off(),$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]').remove(),a.removeData(),a.removeAttr("data-type").removeAttr("data-guid").removeAttr("data-datepicker"),a.removeClass(),c.children('[role="right-icon"]').remove(),a.unwrap()),a}},gj.datepicker.events={change:function(a){return a.triggerHandler("change")},show:function(a){return a.triggerHandler("show")},hide:function(a){return a.triggerHandler("hide")}},gj.datepicker.widget=function(a,b){var c=this,d=gj.datepicker.methods;return c.value=function(a){return d.value(this,a)},c.destroy=function(){return d.destroy(this)},c.show=function(){gj.datepicker.methods.show(this)},c.hide=function(){gj.datepicker.methods.hide(this)},c.disableDates=function(a){},c.disableWeekDay=function(){},c.setMinDate=function(){},c.setMaxDate=function(){},$.extend(a,c),"true"!==a.attr("data-datepicker")&&d.init.call(a,b),a},gj.datepicker.widget.prototype=new gj.widget,gj.datepicker.widget.constructor=gj.datepicker.widget,function(a){a.fn.datepicker=function(a){var b;if(this&&this.length){if("object"!=typeof a&&a){if(b=new gj.datepicker.widget(this,null),b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+a+" does not exist."}return new gj.datepicker.widget(this,a)}}}(jQuery),gj.timepicker={plugins:{},messages:{"en-us":{am:"AM",pm:"PM"}}},gj.timepicker.config={base:{width:void 0,modal:!0,format:"HH:MM",uiLibrary:"materialdesign",value:void 0,locale:"en-us",icons:{rightIcon:'<i class="gj-icon clock" />'},style:{modal:"gj-modal",wrapper:"gj-timepicker gj-timepicker-md gj-unselectable",input:"gj-textbox-md",clock:"gj-clock gj-clock-md"}},bootstrap:{style:{modal:"modal",wrapper:"gj-timepicker gj-timepicker-bootstrap gj-unselectable input-group",input:"form-control",calendar:"gj-calendar gj-calendar-bootstrap"},iconsLibrary:"glyphicons",showOtherMonths:!0},bootstrap4:{style:{modal:"modal",wrapper:"gj-timepicker gj-timepicker-bootstrap gj-unselectable input-group",input:"form-control",calendar:"gj-calendar gj-calendar-bootstrap"},showOtherMonths:!0}},gj.timepicker.methods={init:function(a){return gj.widget.prototype.init.call(this,a,"timepicker"),this.attr("data-timepicker","true"),gj.timepicker.methods.initialize(this),this},initialize:function(a){var b,c=a.data(),d=a.parent('div[role="wrapper"]'),e="materialdesign"!==c.uiLibrary&&"materialicons"===c.iconsLibrary?$('<span class="input-group-addon">'+c.icons.rightIcon+"</span>"):$(c.icons.rightIcon);e.attr("role","right-icon"),0===d.length?(d=$('<div role="wrapper" />').addClass(c.style.wrapper),a.wrap(d)):d.addClass(c.style.wrapper),d=a.parent('div[role="wrapper"]'),c.width&&d.css("width",c.width),a.val(c.value).addClass(c.style.input).attr("role","input"),e.on("click",function(b){$("body").find('[role="clock"][guid="'+a.attr("data-guid")+'"]').is(":visible")?gj.timepicker.methods.hide(a):gj.timepicker.methods.show(a)}),a.on("blur",function(){a.timeout=setTimeout(function(){a.mouseMove||gj.timepicker.methods.hide(a)},500)}),d.append(e),b=gj.timepicker.methods.createClock(a),c.keyboardNavigation&&a.on("keydown",gj.timepicker.methods.createKeyDownHandler(a,b))},createClock:function(a){var b,c=a.data(),d=$('<div role="clock" />').addClass(c.style.clock).attr("guid",a.attr("data-guid")),e=$('<div role="hour" />'),f=$('<div role="minute" />'),g=$('<div role="header" />'),h=$('<div role="body" />'),i=$('<div role="dial"></div>'),j=$('<button class="gj-button-md">Ok</button>'),k=$('<button class="gj-button-md">Cancel</button>'),l=$('<div role="footer" />');return b=gj.core.parseDate(c.value,c.format,c.locale),!b||isNaN(b.getTime())?b=new Date:a.attr("hours",b.getHours()),i.on("mousedown",gj.timepicker.methods.mouseDownHandler(a,d)),i.on("mousemove",gj.timepicker.methods.mouseMoveHandler(a,d)),i.on("mouseup",gj.timepicker.methods.mouseUpHandler(a,d)),e.on("click",function(){gj.timepicker.methods.renderHours(a,d)}),f.on("click",function(){gj.timepicker.methods.renderMinutes(a,d)}),g.append(e).append(":").append(f),d.append(g),h.append(i),d.append(h),k.on("click",function(){a.hide()}),l.append(k),j.on("click",function(){a.hide()}),l.append(j),d.append(l),d.hide(),$("body").append(d),c.modal&&(d.wrapAll('<div role="modal" class="'+c.style.modal+'"/>'),gj.core.center(d)),d},getPointerValue:function(a,b,c){var d,e,f=Math.atan2(128-a,128-b)/Math.PI*180;switch(f<0&&(f=360+f),c){case"12h":return d=12-Math.round(12*f/360),0===d?12:d;case"24h":return e=Math.sqrt(Math.pow(128-a,2)+Math.pow(128-b,2)),d=12-Math.round(12*f/360),0===d&&(d=12),e<96&&(d=12===d?0:d+12),d;case"minutes":return d=Math.round(60-60*f/360),60===d?0:d}},updateArrow:function(a,b,c){var d,e,f,g;d=b.mouseX(a),e=b.mouseY(a),f=a.target.getBoundingClientRect(),"hours"==b.dialMode?(g=gj.timepicker.methods.getPointerValue(d-f.left,e-f.top,"24h"),c.attr("hour",g)):"minutes"==b.dialMode&&(g=gj.timepicker.methods.getPointerValue(d-f.left,e-f.top,"minutes"),c.attr("minute",g)),"hours"==b.dialMode?setTimeout(function(){gj.timepicker.methods.renderMinutes(b,c)},1e3):"minutes"==b.dialMode&&b.hide(),gj.timepicker.methods.select(b,c)},select:function(a,b){var c=(b.find('[role="dial"]'),b.find('[role="arrow"]')),d=b.attr("hour"),e=b.attr("minute");"hours"==a.dialMode&&(0==d||d>12)?c.css("width","calc(50% - 52px)"):c.css("width","calc(50% - 20px)"),"hours"==a.dialMode?c.css("transform","rotate("+(30*d-90).toString()+"deg)"):c.css("transform","rotate("+(6*e-90).toString()+"deg)"),c.show(),gj.timepicker.methods.update(a,b)},update:function(a,b){var c=a.data(),d=b.attr("hour")||0,e=b.attr("minute")||0,f=new Date(0,0,0,d,e),g=gj.core.formatDate(f,c.format,c.locale);b.find('[role="header"] > [role="hour"]').text(gj.core.pad(d)),b.find('[role="header"] > [role="minute"]').text(gj.core.pad(e)),a.val(g),gj.timepicker.events.change(a)},mouseDownHandler:function(a,b){return function(b){a.mouseMove=!0}},mouseMoveHandler:function(a,b){return function(c){a.mouseMove&&gj.timepicker.methods.updateArrow(c,a,b)}},mouseUpHandler:function(a,b){return function(c){gj.timepicker.methods.updateArrow(c,a,b),a.mouseMove=!1,a.focus(),clearTimeout(a.timeout)}},renderHours:function(a,b){var c=b.find('[role="dial"]');clearTimeout(a.timeout),c.empty(),c.append('<div role="arrow" style="transform: rotate(-90deg); display: none;"><div class="c296"></div><div class="c297"></div></div>'),c.append('<span role="hour" style="transform: translate(54px, -93.5307px);">1</span>'),c.append('<span role="hour" style="transform: translate(93.5307px, -54px);">2</span>'),c.append('<span role="hour" style="transform: translate(108px, 0px);">3</span>'),c.append('<span role="hour" style="transform: translate(93.5307px, 54px);">4</span>'),c.append('<span role="hour" style="transform: translate(54px, 93.5307px);">5</span>'),c.append('<span role="hour" style="transform: translate(6.61309e-15px, 108px);">6</span>'),c.append('<span role="hour" style="transform: translate(-54px, 93.5307px);">7</span>'),c.append('<span role="hour" style="transform: translate(-93.5307px, 54px);">8</span>'),c.append('<span role="hour" style="transform: translate(-108px, 1.32262e-14px);">9</span>'),c.append('<span role="hour" style="transform: translate(-93.5307px, -54px);">10</span>'),c.append('<span role="hour" style="transform: translate(-54px, -93.5307px);">11</span>'),c.append('<span role="hour" style="transform: translate(-1.98393e-14px, -108px);">12</span>'),c.append('<span role="hour" style="transform: translate(38px, -65.8179px);">13</span>'),c.append('<span role="hour" style="transform: translate(65.8179px, -38px);">14</span>'),c.append('<span role="hour" style="transform: translate(76px, 0px);">15</span>'),c.append('<span role="hour" style="transform: translate(65.8179px, 38px);">16</span>'),c.append('<span role="hour" style="transform: translate(38px, 65.8179px);">17</span>'),c.append('<span role="hour" style="transform: translate(4.65366e-15px, 76px);">18</span>'),c.append('<span role="hour" style="transform: translate(-38px, 65.8179px);">19</span>'),c.append('<span role="hour" style="transform: translate(-65.8179px, 38px);">20</span>'),c.append('<span role="hour" style="transform: translate(-76px, 9.30732e-15px);">21</span>'),c.append('<span role="hour" style="transform: translate(-65.8179px, -38px);">22</span>'),c.append('<span role="hour" style="transform: translate(-38px, -65.8179px);">23</span>'),c.append('<span role="hour" style="transform: translate(-1.3961e-14px, -76px);">00</span>'),b.find('[role="header"] [role="hour"]').addClass("selected"),b.find('[role="header"] [role="minute"]').removeClass("selected"),a.dialMode="hours",gj.timepicker.methods.select(a,b)},renderMinutes:function(a,b){var c=b.find('[role="dial"]');clearTimeout(a.timeout),c.empty(),c.append('<div role="arrow" style="transform: rotate(-90deg); display: none;"><div class="c296"></div><div class="c297"></div></div>'),c.append('<span role="hour" style="transform: translate(54px, -93.5307px);">5</span>'),c.append('<span role="hour" style="transform: translate(93.5307px, -54px);">10</span>'),c.append('<span role="hour" style="transform: translate(108px, 0px);">15</span>'),c.append('<span role="hour" style="transform: translate(93.5307px, 54px);">20</span>'),c.append('<span role="hour" style="transform: translate(54px, 93.5307px);">25</span>'),c.append('<span role="hour" style="transform: translate(6.61309e-15px, 108px);">30</span>'),c.append('<span role="hour" style="transform: translate(-54px, 93.5307px);">35</span>'),c.append('<span role="hour" style="transform: translate(-93.5307px, 54px);">40</span>'),c.append('<span role="hour" style="transform: translate(-108px, 1.32262e-14px);">45</span>'),c.append('<span role="hour" style="transform: translate(-93.5307px, -54px);">50</span>'),c.append('<span role="hour" style="transform: translate(-54px, -93.5307px);">55</span>'),c.append('<span role="hour" style="transform: translate(-1.98393e-14px, -108px);">60</span>'),b.find('[role="header"] [role="hour"]').removeClass("selected"),b.find('[role="header"] [role="minute"]').addClass("selected"),a.dialMode="minutes",gj.timepicker.methods.select(a,b)},show:function(a){var b=a.data(),c=a.offset(),d=$("body").find('[role="clock"][guid="'+a.attr("data-guid")+'"]');gj.timepicker.methods.renderHours(a,d),a.value()||a.value(gj.core.formatDate(new Date,b.format,b.locale)),d.show(),d.closest('div[role="modal"]').show(),b.modal?gj.core.center(d):d.css("left",c.left).css("top",c.top+a.outerHeight(!0)+3),a.focus(),gj.timepicker.events.show(a)},hide:function(a){var b=$("body").find('[role="clock"][guid="'+a.attr("data-guid")+'"]');b.hide(),b.closest('div[role="modal"]').hide(),gj.timepicker.events.hide(a)},value:function(a,b){var c,d,e=a.data();return void 0===b?a.val():(d=gj.core.parseDate(b,e.format,e.locale),d?(c=$("body").find('[role="clock"][guid="'+a.attr("data-guid")+'"]'),c.attr("hour",d.getHours()),c.attr("minute",d.getMinutes()),gj.timepicker.methods.select(a,c)):a.val(""),a)},destroy:function(a){var b=a.data(),c=a.parent(),d=$("body").find('[role="clock"][guid="'+a.attr("data-guid")+'"]');return b&&(a.off(),d.parent('[role="modal"]').length>0&&d.unwrap(),d.remove(),a.removeData(),a.removeAttr("data-type").removeAttr("data-guid").removeAttr("data-timepicker"),a.removeClass(),c.children('[role="right-icon"]').remove(),a.unwrap()),a}},gj.timepicker.events={change:function(a){return a.triggerHandler("change")},show:function(a){return a.triggerHandler("show")},hide:function(a){return a.triggerHandler("hide")}},gj.timepicker.widget=function(a,b){var c=this,d=gj.timepicker.methods;return c.mouseMove=!1,c.dialMode=void 0,c.value=function(a){return d.value(this,a)},c.destroy=function(){return d.destroy(this)},c.show=function(){gj.timepicker.methods.show(this)},c.hide=function(){gj.timepicker.methods.hide(this)},$.extend(a,c),"true"!==a.attr("data-timepicker")&&d.init.call(a,b),a},gj.timepicker.widget.prototype=new gj.widget,gj.timepicker.widget.constructor=gj.timepicker.widget,function(a){a.fn.timepicker=function(a){var b;if(this&&this.length){if("object"!=typeof a&&a){if(b=new gj.timepicker.widget(this,null),b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+a+" does not exist."}return new gj.timepicker.widget(this,a)}}}(jQuery);
//# sourceMappingURL=datepicker.min.js.map